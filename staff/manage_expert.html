<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Faculty of Medicine Expertise Database
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
  <!-- CSS Files -->
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../assets/css/paper-dashboard.css?v=2.0.0" rel="stylesheet" />


  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="../assets/demo/demo.css" rel="stylesheet" />

  <link href="../node_modules/dropzone/dist/min/dropzone.min.css" rel="stylesheet" >
  <link href="../node_modules/preload.js/dist/css/preload.css" rel="stylesheet">
</head>

<body class="">
  <div class="wrapper ">
    <div class="sidebar" data-color="white" data-active-color="danger">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red | yellow"
    -->
      <div class="logo">
        <a href="index.html" class="simple-text logo-mini">
          <div class="logo-image-small">
            <img src="../assets/img/logo-small.png">
          </div>
        </a>
        <a href="index.html" class="simple-text logo-normal">
          MedExpertise.DB
        </a>
      </div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="">
            <a href="./index.html">
              <i class="nc-icon nc-bank"></i>
              <p>Dashboard</p>
            </a>
          </li>
          <li class="active">
            <a href="./user.html">
              <i class="nc-icon nc-single-02"></i>
              <p>Expertise database</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle">
              <button type="button" class="navbar-toggler">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>
            <a class="navbar-brand" href="#pablo">Expertise database</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-bar navbar-kebab"></span>
            <span class="navbar-toggler-bar navbar-kebab"></span>
            <span class="navbar-toggler-bar navbar-kebab"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="navigation">
            <form>
              <div class="input-group no-border">
                <input type="text" value="" class="form-control" placeholder="Search...">
                <div class="input-group-append">
                  <div class="input-group-text">
                    <i class="nc-icon nc-zoom-split"></i>
                  </div>
                </div>
              </div>
            </form>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link btn-magnify pr-0" href="#pablo">
                  <i class="nc-icon  nc-bell-55"></i>
                  <p>
                    <span class="d-lg-none d-md-block">Notification</span>
                  </p>
                </a>
              </li>
              <li class="nav-item btn-rotate dropdown">
                <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="nc-icon nc-single-02"></i>
                  <p>
                    <span class="d-lg-none d-md-block">Profile</span>
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="#">Profile</a>
                  <a class="dropdown-item" href="#">Change password</a>
                  <a class="dropdown-item" href="Javascript:authen.logout()">Log out</a>
                </div>
              </li>

            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->

      <div class="modal fade" id="addPublicationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="exampleModalLongTitle">Add new publication</h5>
              <button type="button" class="close btnCloseModal" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form onsubmit="return false;" id="addStaffForm">
                <div class="form-group">
                  <label for="" class="fs08">Title : <span class="text-danger">*</span></label>
                  <textarea name="txtTitle" id="txtTitle" rows="8" cols="80" class="form-control" placeholder="Enter research or project title"></textarea>
                </div>

                <div class="form-group">
                  <label for="" class="fs08">Author : <span class="text-danger">*</span></label>
                  <textarea name="txtAuthor" id="txtAuthor" rows="8" cols="80" class="form-control" placeholder="Enter research or project title"></textarea>
                </div>

                <div class="row">
                  <div class="form-group col-4">
                    <label for="" class="fs08">Year : <span class="text-danger">*</span></label>
                    <div class="row">
                      <div class="col-6">
                        <input type="text" id="txtYear" class="form-control" placeholder="English ..." id="txtPosition_en">
                      </div>
                    </div>
                  </div>

                  <div class="col-8 mt-4">
                    <div class="row">
                      <div class="col-6">
                        <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                        <label class="form-check-label" for="defaultCheck1">
                          SCOPUS
                        </label>
                      </div>
                      <div class="col-6">
                        <input class="form-check-input" type="checkbox" value="" id="defaultCheck2">
                        <label class="form-check-label" for="defaultCheck2">
                          PUBMED
                        </label>
                      </div>
                      <div class="col-6">
                        <input class="form-check-input" type="checkbox" value="" id="defaultCheck3">
                        <label class="form-check-label" for="defaultCheck3">
                          ISI
                        </label>
                      </div>
                      <div class="col-6">
                        <input class="form-check-input" type="checkbox" value="" id="defaultCheck4">
                        <label class="form-check-label" for="defaultCheck4">
                          TCI
                        </label>
                      </div>
                    </div>
                  </div>
                </div>




              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button class="btn btn-primary" type="button" id="btnCreatePublicc">Save</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="addExpertiseModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="exampleModalLongTitle">Add new expertise</h5>
              <button type="button" class="close btnCloseModal" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form onsubmit="return false;" id="addStaffForm">
                <div class="form-group">
                  <label for="" class="fs08">Research Themes (key words) : <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="txtKeyword" placeholder="Add one by one ...">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button class="btn btn-primary" type="button" id="btnCreateExpertise">Save</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="addEducationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="exampleModalLongTitle">Add education</h5>
              <button type="button" class="close btnCloseModal" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form onsubmit="return false;" id="addEducationForm">
                <div class="form-group">
                  <label for="" class="fs08">Education info. : <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="txtEducationInfo" placeholder="Add one by one ...">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button class="btn btn-primary" type="button" id="btnCreateEducation">Save</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="profileModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="exampleModalLongTitle">Update profile</h5>
              <button type="button" class="close btnCloseModal" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="pg-bar dn">
                <div class="progress mb-3">
                  <div class="progress-bar" id="loadding_bar" role="progressbar" data-width="0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <form id="mydropzone" class="dropzone" action="../controller/upload-profile.php" style="max-height: 100px !important; min-height: 120px;" >
                <div class="form-group dn">
                  <input type="text" name="txtEid" id="txtEid" value="" class="form-control">
                </div>
                <!-- <div class="dropzone" id="mydropzone" style="margin: 0px; height: 200px;">
                  <div class="fallback">
                    <input name="file" type="file"  />
                  </div>
                </div> -->
              </form>

              <!-- <form id="mydropzone" action="../controller/upload-profile.php" style="max-height: 100px !important; min-height: 120px;" >
                <input type="text" name="txtEid" id="txtEid" value="" class="form-control dn">
              </form> -->

            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="addContactModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="exampleModalLongTitle">Edit contact information</h5>
              <button type="button" class="close btnCloseModal" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form onsubmit="return false;" id="addContactForm">
                <div class="form-group">
                  <label for="" class="fs08">Department : <span class="text-danger">*</span></label>
                  <select class="form-control" name="txtDept" id="txtDept">
                    <option value="">-- Choose department --</option>
                    <option value="1">Department of Pediatrics</option>
                    <option value="2">Department of Ophthalmology</option>
                    <option value="3">Department of Phychiatry</option>
                    <option value="4">Department of Biomedical Sciences</option>
                    <option value="5">Department of Phatology</option>
                    <!-- <option value="6"></option> -->
                    <option value="7">Department of Radiology</option>
                    <option value="8">Department of Anesthesiology</option>
                    <option value="9">Department of Family Medicine and Preventive Medicine</option>
                    <option value="10">Department of Surgery</option>
                    <option value="11">Department of Orthopedics</option>
                    <option value="12">Department of Obstetrics and Gynaecology</option>
                    <option value="13">Department of Otolaryngology Head and Neck Surgery</option>
                    <option value="14">Department of Internal Medicine</option>
                    <option value="15">Nursing Services Division</option>
                    <!-- <option value="16">ฝ่ายเภสัชกรรม</option>
                    <option value="17">ฝ่ายทันตกรรม</option> -->
                    <option value="18">Epidemiology Unit</option>
                    <option value="19">External Staff</option>
                    <option value="20">Department of Emergency</option>
                    <option value="21">Institute of Gastroenterology and Hepatology</option>
                    <option value="25">Institute of Biomedical Engineeing</option>
                    <option value="30">Department of Physical Therapy</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="" class="fs08">E-mail address info. : <span class="text-danger">*</span></label>
                  <input type="email" class="form-control" id="txtEmail" placeholder="Enter your contact address ...">
                </div>

              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button class="btn btn-primary" type="button" id="btnCreateContact">Save</button>
            </div>
          </div>
        </div>
      </div>

      <div class="content" style="margin-top: 63px;">
        <div class="row">
          <div class="col-12">
            <div class="card card-plain p-0">
              <div class="card-header p-0 pt-2">
                <h4>Research Profile Management</h4>
                <p class="card-category">
                  Manage (modify) staff expertise information in each section
                </p>
              </div>

              <div class="card mb-3">
                <div class="card-body pt-5 pb-5">
                  <div class="row">
                    <div class="col-12 col-sm-4 pl-5 pr-5 pb-4">
                        <span class="exp_profile">
                          <img src="../img/tmp-user-img.png" alt="" class="img-fluid" id="profile_img">
                        </span>
                        <div style="margin-top: -30px;" class="text-center">
                          <button class="btn btn-primary btn-icon- btn-lg-" onclick="app.showModal('profileModal')"><i class="fa fa-camera"></i> Upload image</button>
                        </div>
                    </div>
                    <div class="col-12 col-sm-8">
                      <div style="padding: 0px 13px;">
                        <div class="row">
                          <div class="col-12">
                            <div class="row">
                              <div class="col-12">
                                <h5 class="card-title text-primary" style="font-weight: 700;">Personal information</h5>
                              </div>
                              <div class="col-9">
                                <h6 class="text-warning mb-2">Demographic info.</h6>
                              </div>
                              <div class="col-3 text-right">
                                <a href="Javascript:app.showModal('addExpertiseModal')" class="text-muted"><i class="fa fa-pencil"></i> Edit</a>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-12" style="font-size: 1.5em; font-weight: 700;"><span class="exp_fullname_en">NA</span></div>
                          <div class="col-12" style="font-size: 1.2em; font-weight: 700;"><span class="exp_fullname_th">NA</span></div>
                        </div>

                        <div class="row mt-2">
                          <div class="col-12" style="font-size: 1.1em;"><span class="exp_position_en">NA</span></div>
                          <div class="col-12"><span class="exp_position_th">NA</span></div>
                        </div>

                        <div class="row mt-3">
                          <div class="col-12">
                            <hr class="mt-0">
                            <div class="row">
                              <div class="col-9">
                                <h6 class="text-warning mb-2">Contact information</h6>
                              </div>
                              <div class="col-3 text-right">
                                <a href="Javascript:app.showModal('addContactModal')" class="text-muted"><i class="fa fa-pencil"></i> Edit</a>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-12 col-sm-4">
                            Department :
                          </div>
                          <div class="col-12 col-sm-8">
                            <span class="p_dept_name">-</span>
                          </div>
                          <div class="col-12 col-sm-4">
                            E-mail address :
                          </div>
                          <div class="col-12 col-sm-8">
                            <span class="p_email">-</span>
                          </div>
                        </div>

                        <div class="row mt-3">
                          <div class="col-12">
                            <hr class="mt-0">
                            <div class="row">
                              <div class="col-9">
                                <h6 class="text-warning mb-2">Education</h6>
                              </div>
                              <div class="col-3 text-right">
                                <a href="Javascript:app.showModal('addEducationModal')" class="text-muted"><i class="fa fa-pencil"></i> Edit</a>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-12">
                            <ul class="info-ul education-ul">
                              No data
                            </ul>
                          </div>
                        </div>

                        <div class="row mt-3">
                          <div class="col-12">
                            <hr class="mt-0">
                            <div class="row">
                              <div class="col-9">
                                <h6 class="text-warning mb-2">Expertise</h6>
                              </div>
                              <div class="col-3 text-right">
                                <a href="Javascript:app.showModal('addExpertiseModal')" class="text-muted"><i class="fa fa-pencil"></i> Edit</a>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row mb-3">
                          <div class="col-12">
                            <div>
                              <ul class="info-ul expertise-ul">
                                No data
                              </ul>
                            </div>
                          </div>
                        </div>


                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <!-- .card basic info -->

              <div class="row">
                <div class="col-sm-6">
                  <div class="card mb-3">
                    <div class="card-header ">
                      <h5 class="card-title text-primary" style="font-weight: 700;">Publication statistic</h5>
                      <p class="card-category">Chart of publication in last 3 year.</p>
                    </div>
                    <div class="card-body p-3">
                      <!-- <canvas id="speedChart" width="400" height="150"></canvas> -->
                    </div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="card mb-3">
                    <div class="card-header ">
                      <h5 class="card-title text-primary" style="font-weight: 700;">Profile view statistic</h5>
                      <p class="card-category">Chart of amount of profile view last 15 days.</p>
                    </div>
                    <div class="card-body p-3">
                      <canvas id="speedChart" width="400" height="150"></canvas>
                    </div>
                  </div>
                </div>
              </div>



              <div class="card mb-3">
                <div class="card-header ">
                  <div class="row">
                    <div class="col-12 col-sm-8">
                      <h5 class="card-title text-primary" style="font-weight: 700;">Publications</h5>
                    </div>
                    <div class="col-12 col-sm-4 text-right">
                      <button class="btn btn-primary btn-sm" onclick="app.showModal('addPublicationModal')"><i class="fa fa-plus"></i> Add publication</button>
                    </div>
                  </div>
                  <p class="card-category mb-0">Last of staff publications</p>
                </div>
                <div class="card-body ">
                  <div class="pub-list">
                    <div class="text-center pt-5 pb-5">
                      <div class="pb-3">
                        <i class="nc-icon nc-alert-circle-i text-muted" style="font-size: 4em;"></i>
                      </div>
                      No publication found.
                    </div>
                  </div>
                </div>
              </div>
              <!-- .card publication -->


              <!-- .card view stat-->

            </div>
          </div>
        </div>
      </div>
      <footer class="footer footer-black  footer-white ">
        <div class="container-fluid">
          <div class="row">
            <nav class="footer-nav">
              <ul>
                <li>
                  <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a>
                </li>
                <li>
                  <a href="http://blog.creative-tim.com/" target="_blank">Blog</a>
                </li>
                <li>
                  <a href="https://www.creative-tim.com/license" target="_blank">Licenses</a>
                </li>
              </ul>
            </nav>
            <div class="credits ml-auto">
              <span class="copyright">
                ©
                <script>
                  document.write(new Date().getFullYear())
                </script>, made with <i class="fa fa-heart heart"></i> by Creative Tim
              </span>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="../assets/js/core/jquery.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.min.js"></script>
  <!-- <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script> -->
  <!-- Chart JS -->
  <script src="../assets/js/plugins/chartjs.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/paper-dashboard.min.js?v=2.0.0" type="text/javascript"></script>
  <!-- Paper Dashboard DEMO methods, don't include it in your project! -->
  <!-- <script src="../assets/demo/demo.js"></script> -->
  <script src="../node_modules/dropzone/dist/dropzone.js"></script>
  <script src="../node_modules/preload.js/dist/js/preload.js"></script>

  <script src="../assets/custom/js/expert-db.1.0.1.js"></script>
  <script src="../assets/custom/js/expert-authen.1.0.1.js"></script>\
  <script src="../assets/custom/js/components-multiple-upload.js"></script>

  <script>

    var curr_expert = window.localStorage.getItem(sys + '_selected_expert')
    $(document).ready(function() {

      if(curr_expert == null){
        preload.hide()
        alert('Unknown error')
        window.location = 'user.html'
        return ;
      }

      app.get_expert_info('get_expert_info')
      app.get_curr_user_publication('', true)
      app.get_curr_user_expertise('', true)
      app.get_curr_user_education('', true)
      app.init_chart_profile_view(curr_expert)

      // console.log();
      $('#btnCreatePublicc').click(function(){
        app.createPublication()
      })

      $('#btnCreateExpertise').click(function(){
        app.createExpertise()
      })

      $('#btnCreateEducation').click(function(){
        app.createEducation()
      })

      $('#btnCreateContact').click(function(){
        app.createContact()
      })
    });
  </script>
</body>

</html>
